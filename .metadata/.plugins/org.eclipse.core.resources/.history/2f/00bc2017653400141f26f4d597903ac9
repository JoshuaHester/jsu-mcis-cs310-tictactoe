package cs310.tictactoe;

public class TicTacToe {
	
	public Board gameBoard;
	
	public TicTacToe(){
		gameBoard = new Board();
		
		
	}

	public void markLocation(int collum,int row, char mark){
		if(getMarker(collum, row)==' ')
			try {
				gameBoard.setMarkOnBoard(collum, row, mark);
			} catch (Exception e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
	}
	
	public char getMarker(int collum, int row) {
		try {
		if(gameBoard.getMarkFromLocation(collum, row)==Board.GridMarker.X)
			return 'X';
		
		else if(gameBoard.getMarkFromLocation(collum, row)==Board.GridMarker.O)
			return 'O';
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
		return ' ';
		
	}
	
	public String getWinner(){
		if(checkForVictory('X')) 
			return "Player 1";
		else if(checkForVictory('O')) 
			return "Player 2";
		else if(checkForCat())
				return "Cat";
		else return null;
	}
	
	private boolean checkForVictory(char Tic){
		if(getMarker(0, 0)==Tic&&getMarker(0, 1)==Tic&&getMarker(0, 2)==Tic)
			return true;
		else if(getMarker(1, 0)==Tic&&getMarker(1, 1)==Tic&&getMarker(1, 2)==Tic)
			return true;
		else if(getMarker(2, 0)==Tic&&getMarker(2, 1)==Tic&&getMarker(2, 2)==Tic)
			return true;
		else if(getMarker(0, 0)==Tic&&getMarker(1, 0)==Tic&&getMarker(2, 0)==Tic)
			return true;
		else if(getMarker(1, 0)==Tic&&getMarker(1, 1)==Tic&&getMarker(1, 2)==Tic)
			return true;
		else if(getMarker(2, 0)==Tic&&getMarker(2, 1)==Tic&&getMarker(2, 2)==Tic)
			return true;
		else if(getMarker(0, 0)==Tic&&getMarker(1, 1)==Tic&&getMarker(2, 2)==Tic)
			return true;
		else if(getMarker(2, 0)==Tic&&getMarker(1, 1)==Tic&&getMarker(0, 2)==Tic)
			return true;
		else return false;
	}
	
	private boolean checkForCat(){
		int slotCount=0;	
		for(int collum=0;collum<3;collum++){
			for(int row=0;row<3;row++){
				if(getMarker(collum,row)!=' '){
					slotCount++;
				}
			}
		}
		if(slotCount==9)
			return true;
		else
			return false;
	}
	
	public static void main(String[] args){
		new TicTacToe();
	}
}
